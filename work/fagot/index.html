<!DOCTYPE html>
<html>
	<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="HandheldFriendly" content="true">

		<title>Jake Williams | Fagot</title>

        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Bebas+Neue|Josefin+Sans:400,700|Open+Sans:400,700&display=swap" />
        <link rel="stylesheet" type="text/css" href="../../main.css" />
        <link rel="stylesheet" type="text/css" href="../../media.css" />

        <link rel="icon" href="../../img/favicon.ico" type="image/x-icon" />
        <link rel="shortcut icon" href="../../img/favicon.ico" type="image/x-icon" />

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

        <link rel="stylesheet" type="text/css" href="../slick/slick.css" />
        <link rel="stylesheet" type="text/css" href="../slick/slick-theme.css" />
        <script type="text/javascript" src="../slick/slick.min.js"></script>

        <link rel="stylesheet" type="text/css" href="../aos/aos.css" />
        <script src="../aos/aos.js"></script>
	</head>
	<body>
        <header class="nav">
			<h1><a href="../" class="u">jake williams.</a></h1>
			<nav>
				<ul>
					<li><a href="../../" class="u">home.</a></li>
					<li><a href="../../showreel/" class="u">showreel.</a></li>
					<li><a href="../" class="u">work.</a></li>
					<li><a href="../../cv/" class="u">c.v.</a></li>
					<li><a href="../../contact/" class="u">contact.</a></li>
				</ul>
			</nav>
		</header>
		<main class="film-page">
			<header id="fagot" class="film-header">
                <span class="opacityPulse-css"><a href="#main">scroll for more.</a></span>
            </header>
            <section class="main" id="main">
                <div class="logline">
                    <h2 data-aos="shadow-pop-br" data-aos-delay="400">an experimental film focusing on heternormativity and homophobia in media and life</h2>
                </div>
                <div class="personnel" data-aos="shadow-pop-br" data-aos-delay="500">
                    <h2>cast and crew:</h2>
                    <div id="break"></div>
                    <!--Crew-->
                    <div class="group">
                        <h3>a film by.</h3>
                        <span>Jake Williams</span>
                    </div>
                    <div class="group">
                        <h3>cinematographer.</h3>
                        <span>Brooke Angus</span>
                    </div>
                    <div id="break"></div>
                    <div id="line"></div>
                    <div id="break"></div>
                    <!--Cast-->
                    <div class="group">
                        <h3>boy.</h3>
                        <span>Sammy Hewett</span>
                    </div>
                    <div class="group">
                        <h3>girl.</h3>
                        <span>Someone ...</span>
                    </div>
                </div>
                <div class="iframe-container">
                    <iframe src="https://player.vimeo.com/video/331249831" frameborder="0" allow="autoplay; fullscreen" allowfullscreen class="effect4"></iframe>
                </div>
                <div class="slick">
                    <img src="frames/1.png">
                    <img src="frames/2.png">
                    <img src="frames/3.png">
                    <img src="frames/4.png">
                </div>
                <div class="flex">
                    <iframe src="fagot.pdf" class="pdf"></iframe>
                </div>
            </section>
        </main>
        <script src="https://player.vimeo.com/api/player.js"></script>
        <script>
            $(document).ready(function() {
                $('.slick').slick({
                    infinite: true,
                    autoplay: true,
                    autoplaySpeed: 5000,
                    arrows: true,
                    draggable: true,
                    adaptiveHeight: false,
                    dots: true,
                    pauseOnDotsHover: true
                });
            });

            document.body.className += ' fade-out';
            $(function() {
                $('body').removeClass('fade-out');
                AOS.init();
            });

            $.fn.inView = function(inViewType){
                var viewport = {};
                viewport.top = $(window).scrollTop();
                viewport.bottom = viewport.top + $(window).height();
                var bounds = {};
                bounds.top = this.offset().top;
                bounds.bottom = bounds.top + this.outerHeight();
                switch(inViewType){
                case 'bottomOnly':
                    return ((bounds.bottom <= viewport.bottom) && (bounds.bottom >= viewport.top));
                case 'topOnly':
                    return ((bounds.top <= viewport.bottom) && (bounds.top >= viewport.top));
                case 'both':
                    return ((bounds.top >= viewport.top) && (bounds.bottom <= viewport.bottom));         
                default:     
                    return ((bounds.top >= viewport.top) && (bounds.bottom <= viewport.bottom));      
                }
            };

            var play = false;

            var iframe = document.querySelector('iframe');
			var player = new Vimeo.Player(iframe);
			player.on('play', function() {
                $('body').addClass('dimmed');
                play = true;
            });
			player.on('pause',function() {
                $('body').removeClass('dimmed');
                play = false;
            });
            
            $(window).scroll(function() {
                if ($('.slick').inView('both')) {
                    $('body').addClass('dimmed');
                    console.log(play);
                    console.log($('.slick').inView('both'));
                } else {
                    $('body').removeClass('dimmed');
                }
            });
        </script>
	</body>
</html>